<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Fichajes Haxball</title>
    <style>
        body { font-family: Arial; padding: 20px; background: #f5f5f5; }
        .fichaje { background: white; padding: 10px; margin: 10px 0; border-radius: 8px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
    </style>
</head>
<body>
    <h1>Fichajes de la Liga Haxball</h1>
    <div id="fichajes"></div>

    <script>
        async function cargarFichajes() {
            try {
                const res = await fetch('/api/fichajes');
                const fichajes = await res.json();
                const container = document.getElementById('fichajes');
                container.innerHTML = '';

                fichajes.forEach(f => {
                    const div = document.createElement('div');
                    div.className = 'fichaje';
                    div.innerHTML = `
                        <strong>Jugador:</strong> ${f.jugadorId}<br>
                        <strong>Equipo:</strong> ${f.teamRoleId}<br>
                        <strong>Posici√≥n:</strong> ${f.posicion}<br>
                        <strong>Dorsal:</strong> ${f.dorsal}<br>
                        <strong>Estado:</strong> ${f.estado}<br>
                        <strong>Fecha:</strong> ${f.fecha}
                    `;
                    container.appendChild(div);
                });
            } catch (err) {
                console.error('Error cargando fichajes:', err);
            }
        }

        // Cargar fichajes al iniciar
        cargarFichajes();

        // Recargar fichajes cada 10 segundos
        setInterval(cargarFichajes, 10000);
    </script>
</body>
</html>
